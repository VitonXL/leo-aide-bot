<!DOCTYPE html>
<html lang="ru" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–õ–µ–æ –ü–æ–º–æ—â–Ω–∏–∫</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon">

    <!-- üî• –û—Å—Ç–∞–≤–ª—è–µ–º –í–ï–°–¨ CSS ‚Äî –æ–Ω –Ω—É–∂–µ–Ω -->
    {% raw %}
    <style>
      /* === –§–û–†–°–ò–†–û–í–ê–ù–ù–ê–Ø –®–ê–ü–ö–ê === */
      #combined-header {
        position: sticky !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        z-index: 1000 !important;
        background: rgba(255, 255, 255, 0.96) !important;
        background: linear-gradient(145deg, rgba(255, 255, 255, 0.98), rgba(220, 255, 240, 0.9)) !important;
        backdrop-filter: blur(12px) !important;
        -webkit-backdrop-filter: blur(12px) !important;
        border-bottom: 1px solid rgba(76, 175, 80, 0.12) !important;
        transition: transform 0.3s ease !important;
      }

      [data-theme="dark"] #combined-header {
        background: rgba(13, 17, 23, 0.96) !important;
        background: linear-gradient(145deg, rgba(13, 17, 23, 0.98), rgba(18, 24, 33, 0.9)) !important;
        border-color: rgba(178, 255, 89, 0.16) !important;
      }

      #combined-header.hidden {
        transform: translateY(-100%) !important;
      }

      .header-container {
        max-width: 600px !important;
        margin: 0 auto !important;
        padding: 0 16px !important;
        height: 60px !important;
        display: flex !important;
        justify-content: space-between !important;
        align-items: center !important;
        gap: 12px !important;
      }

      .header-left,
      .header-right {
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
        flex-shrink: 0 !important;
      }

      /* === –û–°–¢–ê–õ–¨–ù–û–ô CSS ‚Äî –ö–ê–ö –£ –¢–ï–ë–Ø ‚Äî –ù–ï –¢–†–û–ì–ê–ï–ú === */
      /* ... –≤–µ—Å—å –æ—Å—Ç–∞–ª—å–Ω–æ–π CSS ... */
    </style>
    {% endraw %}
</head>
<body>
    <!-- ‚úÖ –¢–æ–ª—å–∫–æ —à–∞–ø–∫–∞ ‚Äî —Å style="", —á—Ç–æ–±—ã –ü–†–û–ë–ò–¢–¨ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã -->
    <header id="combined-header" style="position: sticky !important; top: 0 !important; left: 0 !important; right: 0 !important; z-index: 1000 !important;">
        <div class="header-container" style="display: flex !important; justify-content: space-between !important; align-items: center !important;">
            <div class="header-left">
                <div class="app-icon-wrapper">
                    <img src="/static/favicon.ico" alt="–õ–µ–æ" class="app-icon">
                </div>
                <button class="btn-icon" id="menu-btn">
                    <span class="material-icons">menu</span>
                </button>
            </div>
            <div class="page-title">
                {{ page_title | default("–ì–ª–∞–≤–Ω–∞—è") }}
            </div>
            <div class="header-right">
                <button class="btn-icon" id="theme-toggle">
                    <span class="material-icons" id="theme-icon">dark_mode</span>
                </button>
                <img src="{{ user.get('avatar_url', '/static/img/avatar-placeholder.png') }}" alt="User" class="user-avatar">
            </div>
        </div>
    </header>

    <div class="main-content">
        {% block content %}{% endblock %}
    </div>

    <div id="toast">–°–æ–æ–±—â–µ–Ω–∏–µ</div>

    <script src="/static/js/main.js"></script>
    {% block scripts %}{% endblock %}
</body>
</html>