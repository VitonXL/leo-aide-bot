{% extends "base.html" %}

{% block title %}–õ–µ–æ ‚Äî –ì–ª–∞–≤–Ω–∞—è{% endblock %}

{% block content %}
  {% include "components/header.html" %}

  <div class="content-wrapper">
    <h1>–ü—Ä–∏–≤–µ—Ç, —è –õ–µ–æ üå±</h1>
    <p>–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç. –ù–µ—Ç –ø–æ–ª–æ—Å. –ù–µ—Ç –æ—à–∏–±–æ–∫.</p>
    <button onclick="toggleTheme()">–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É</button>
  </div>
{% endblock %}

{% block scripts %}
  <script>
    // –°—Ç–∞–≤–∏–º —Ç–µ–º—É
    document.documentElement.setAttribute('data-theme', 'light');

    // –°–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
    let lastScrollTop = 0;
    const header = document.getElementById('main-header');
    const badge = document.getElementById('leo-badge');

    window.addEventListener('scroll', () => {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

      if (scrollTop > lastScrollTop && scrollTop > 50) {
        header.classList.add('hidden');
        badge.classList.add('hidden');
      } else if (scrollTop < lastScrollTop) {
        header.classList.remove('hidden');
        badge.classList.remove('hidden');
      }

      lastScrollTop = scrollTop;
    });

    // –°–º–µ–Ω–∞ —Ç–µ–º—ã
    function toggleTheme() {
      const html = document.documentElement;
      const icon = document.getElementById('theme-icon');
      const isDark = html.getAttribute('data-theme') === 'dark';

      if (isDark) {
        html.setAttribute('data-theme', 'light');
        icon.textContent = 'dark_mode';
        localStorage.setItem('theme', 'light');
      } else {
        html.setAttribute('data-theme', 'dark');
        icon.textContent = 'light_mode';
        localStorage.setItem('theme', 'dark');
      }
    }
  </script>
{% endblock %}