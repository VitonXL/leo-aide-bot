{% extends "base.html" %}

{% block title %}–ö–∞–±–∏–Ω–µ—Ç{% endblock %}

{% block content %}
  <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã -->
  {% include 'partials/theme-toggle.html' %}

  <!-- –°—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
  {% include 'partials/user-status.html' %}

  <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
  <div class="section-title">‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</div>
  <div class="button-grid">
    <a href="/finance" class="action-btn">
      <div class="action-icon">üí∞</div>
      <div class="action-label">–§–∏–Ω–∞–Ω—Å—ã</div>
    </a>
    <a href="/ai" class="action-btn">
      <div class="action-icon">üß†</div>
      <div class="action-label">AI-–ü–æ–º–æ—â–Ω–∏–∫</div>
    </a>
    <a href="/settings" class="action-btn">
      <div class="action-icon">‚öôÔ∏è</div>
      <div class="action-label">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
    </a>
    <a href="/support" class="action-btn">
      <div class="action-icon">üì¨</div>
      <div class="action-label">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</div>
    </a>
  </div>

  <!-- –í–∏–¥–∂–µ—Ç—ã -->
  <div class="section-title">üìä –í–∏–¥–∂–µ—Ç—ã</div>
  <div class="widget-grid">
    <div class="card widget">
      <h3>–î–æ—Ö–æ–¥</h3>
      <p>{{ stats.income }} ‚ÇΩ</p>
    </div>
    <div class="card widget">
      <h3>–†–∞—Å—Ö–æ–¥</h3>
      <p>{{ stats.expense }} ‚ÇΩ</p>
    </div>
    <div class="card widget">
      <h3>–ë–∞–ª–∞–Ω—Å</h3>
      <p>{{ stats.balance }} ‚ÇΩ</p>
    </div>
    <div class="card widget">
      <h3>–†–µ—Ñ–µ—Ä–∞–ª—ã</h3>
      <p>{{ user.referrals }}</p>
    </div>
  </div>

  <!-- –ù–æ–≤–æ—Å—Ç–∏ -->
  <div class="section-title">üì∞ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</div>
  <div class="news-feed">
    {% for news in news_list %}
    <div class="card news-item">
      <div style="font-size: 14px; color: #757575; min-width: 80px;">{{ news.date }}</div>
      <div>{{ news.text|safe }}</div>
    </div>
    {% endfor %}
  </div>

  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã -->
  {% include 'partials/toast.html' %}
  {% include 'partials/modal.html' %}
{% endblock %}

{% block scripts %}
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      Toast.info('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ user.first_name }}!');
    });
  </script>
{% endblock %}