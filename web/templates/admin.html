<!-- web/templates/admin.html -->
{% extends "base.html" %}
{% block title %}Админ — Лео{% endblock %}
{% block styles %}
<style>
.admin-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; margin: 24px 0; }
.ticket-item { border: 1px solid var(--border-light); padding: 12px; margin-bottom: 12px; border-radius: 8px; }
</style>
{% endblock %}
{% block content %}
<div class="card">
  <div class="section-title"><span class="material-icons">insights</span> Статистика</div>
  <div class="admin-grid" id="stats-container">Загрузка...</div>
</div>

<div class="card">
  <div class="section-title"><span class="material-icons">help</span> Техподдержка</div>
  <div id="tickets-container">Загрузка тикетов...</div>
</div>
{% endblock %}
{% block scripts %}
{{ super() }}
<script src="/static/js/admin.js"></script>
<script>
document.addEventListener('DOMContentLoaded', async () => {
  await loadStats();
  await loadTickets();
  changeViewMode('cards');
});
</script>
{% endblock %}